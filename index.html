# rulos-cripto
Probando código para analizar algunos rulos (arbitraje) en cripto. Datos en tiempo real (o eso tratamos) de los pares de Binance


<!DOCTYPE html>
<html>
<head>
  <meta charset="UTF-8">
  <title>Comparador de Arbitraje</title>
</head>
<body>

<h2>Arbitraje Cripto</h2>

<table border="1" cellpadding="6">
  <tr>
    <th>Rulo</th>
    <th>Par</th>
    <th>Precio</th>
  </tr>
  <tbody id="tabla"></tbody>
</table>

<script>
const rulos = [
  {
    nombre: "USDT → LTC → BTC → USDT",
    pares: ["LTCUSDT", "LTCBTC", "BTCUSDT"]
  },
  {
    nombre: "USDT → DOGE → BTC → USDT",
    pares: ["DOGEUSDT", "DOGEBTC", "BTCUSDT"]
  },
  {
    nombre: "USDT → TRX → BTC → USDT",
    pares: ["TRXUSDT", "TRXBTC", "BTCUSDT"]
  }
];

async function precio(symbol) {
  const r = await fetch(`https://api.binance.com/api/v3/ticker/price?symbol=${symbol}`);
  const d = await r.json();
  return parseFloat(d.price);
}

async function calcular() {
  const tbody = document.getElementById("tabla");
  tbody.innerHTML = "";

  for (const rulo of rulos) {
    const precios = [];
    for (const par of rulo.pares) {
      const p = await precio(par);
      precios.push(p);
    }

    // Calcular rulo
    const resultadoRulo = (precios[1] * precios[2]) / precios[0];
    const ganancia = (resultadoRulo - 1) * 100;
    const estado = resultadoRulo > 1 ? "HAY RULO" : "NO CONVIENE";

    // Mostrar cada par
    for (let i = 0; i < rulo.pares.length; i++) {
      const fila = document.createElement("tr");
      fila.innerHTML = `
        <td>${i === 0 ? rulo.nombre : ""}</td>
        <td>${rulo.pares[i]}</td>
        <td>${precios[i]}</td>
      `;
      tbody.appendChild(fila);
    }

    // Fila resumen
    const filaResumen = document.createElement("tr");
    filaResumen.innerHTML = `
      <td colspan="2" style="font-weight:bold">Resultado rulo</td>
      <td>${resultadoRulo.toFixed(9)}</td>
    `;
    tbody.appendChild(filaResumen);

    const filaEstado = document.createElement("tr");
    filaEstado.innerHTML = `
      <td colspan="2" style="font-weight:bold">Estado</td>
      <td style="color:${resultadoRulo>1 ? 'green':'red'}">${estado}</td>
    `;
    tbody.appendChild(filaEstado);

    const filaGanancia = document.createElement("tr");
    filaGanancia.innerHTML = `
      <td colspan="2" style="font-weight:bold">Ganancia %</td>
      <td>${ganancia.toFixed(6)}</td>
    `;
    tbody.appendChild(filaGanancia);

    // Separador visual
    const sep = document.createElement("tr");
    sep.innerHTML = `<td colspan="3">&nbsp;</td>`;
    tbody.appendChild(sep);
  }
}

calcular();
setInterval(calcular, 20000); // actualizar cada 20s
</script>

</body>
</html>

